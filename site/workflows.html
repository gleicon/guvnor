<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>workflows - Guvnor Documentation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,400;0,500;0,600;1,400&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        .font-sans { font-family: 'Inter', sans-serif; }
        .sidebar { min-height: calc(100vh - 4rem); }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b sticky top-0 z-50">
        <div class="max-w-screen-2xl mx-auto px-4 py-3">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <a href="index.html" class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                            <span class="text-white font-bold text-sm">G</span>
                        </div>
                        <span class="text-lg font-bold text-gray-900">Guvnor Docs</span>
                    </a>
                </div>
                <nav class="hidden md:flex space-x-6">
                    <a href="index.html" class="text-gray-600 hover:text-blue-600 text-sm font-medium">Home</a>
                    <a href="getting-started.html" class="text-gray-600 hover:text-blue-600 text-sm font-medium">Getting Started</a>
                    <a href="configuration.html" class="text-gray-600 hover:text-blue-600 text-sm font-medium">Config</a>
                    <a href="https://github.com/gleicon/guvnor" class="text-gray-600 hover:text-blue-600 text-sm font-medium">GitHub</a>
                </nav>
            </div>
        </div>
    </header>

    <div class="flex max-w-screen-2xl mx-auto">
        <!-- Sidebar -->
        <aside class="w-64 bg-white border-r sidebar hidden lg:block">
            <nav class="p-4 space-y-1">
                <div class="pb-2 mb-2 border-b">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Getting Started</h3>
                </div>
                <a href="getting-started.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Quick Start</a>
                <a href="workflows.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Daily Workflows</a>
                
                <div class="pb-2 mb-2 mt-6 border-b">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Configuration</h3>
                </div>
                <a href="configuration.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Config Reference</a>
                <a href="examples.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Examples</a>
                
                <div class="pb-2 mb-2 mt-6 border-b">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Platform Guides</h3>
                </div>
                <a href="nextjs.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Next.js</a>
                <a href="react.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">React</a>
                <a href="go.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Go</a>
                <a href="rust.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Rust</a>
                <a href="php.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">PHP</a>
                <a href="java.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Java</a>
                
                <div class="pb-2 mb-2 mt-6 border-b">
                    <h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider">Production</h3>
                </div>
                <a href="systemd.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">SystemD Service</a>
                <a href="architecture.html" class="block px-3 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md">Architecture</a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 min-w-0">
            <div class="px-6 py-8">
                <article class="max-w-4xl">
                    <div class="prose prose-lg max-w-none">
                        <h1 id="common-workflows">Common Workflows</h1>
                        <p>Daily workflows and common tasks with
                        Guvnor.</p>
                        <h2 id="development-workflow">Development
                        Workflow</h2>
                        <h3 id="starting-a-new-day">Starting a New
                        Day</h3>
                        <div class="sourceCode" id="cb1"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> my-project</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start      <span class="co"># Start all configured apps</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> status     <span class="co"># Check everything is running</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visit your apps:</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># http://web.localhost:8080</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># http://api.localhost:8080</span></span></code></pre></div>
                        <h3 id="making-changes">Making Changes</h3>
                        <div class="sourceCode" id="cb2"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Code changes are live (if your app supports hot reload)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># For apps that need restart:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart api-service</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># View logs for debugging</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs api-service</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs         <span class="co"># All apps</span></span></code></pre></div>
                        <h3 id="end-of-day">End of Day</h3>
                        <div class="sourceCode" id="cb3"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> stop        <span class="co"># Stop all apps</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Or just close terminal (apps stop automatically)</span></span></code></pre></div>
                        <h2 id="adding-new-services">Adding New
                        Services</h2>
                        <h3 id="add-database-to-existing-project">Add
                        Database to Existing Project</h3>
                        <div class="sourceCode" id="cb4"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit guvnor.yaml</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">apps:</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: web</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ... existing config</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: database</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">port:</span> 5432</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">command:</span> postgres</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    <span class="ex">args:</span> [<span class="st">&quot;-D&quot;</span>, <span class="st">&quot;/usr/local/var/postgres&quot;</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No hostname - internal service only</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> validate    <span class="co"># Check config</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start       <span class="co"># Starts all apps including database</span></span></code></pre></div>
                        <h3 id="add-background-worker">Add Background
                        Worker</h3>
                        <div class="sourceCode" id="cb5"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># guvnor.yaml</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">apps:</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: worker</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># No hostname - background only</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="ex">port:</span> 8001</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="ex">command:</span> python</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    <span class="ex">args:</span> <span class="pp">[</span><span class="st">&quot;worker.py&quot;</span><span class="pp">]</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">environment:</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      <span class="ex">WORKER_QUEUE:</span> <span class="st">&quot;high_priority&quot;</span></span></code></pre></div>
                        <h2 id="multiple-projects-workflow">Multiple
                        Projects Workflow</h2>
                        <h3 id="switching-between-projects">Switching
                        Between Projects</h3>
                        <div class="sourceCode" id="cb6"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Project A</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> project-a</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start       <span class="co"># Runs on localhost:8080</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Switch to Project B (different terminal/directory)</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ../project-b</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start       <span class="co"># ERROR: Port 8080 in use</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Solution 1: Stop first project</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ../project-a <span class="kw">&amp;&amp;</span> <span class="ex">guvnor</span> stop</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ../project-b <span class="kw">&amp;&amp;</span> <span class="ex">guvnor</span> start</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Solution 2: Use different ports</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> project-b</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit guvnor.yaml: server.http_port: 8090</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start       <span class="co"># Runs on localhost:8090</span></span></code></pre></div>
                        <h3
                        id="running-multiple-projects-simultaneously">Running
                        Multiple Projects Simultaneously</h3>
                        <div class="sourceCode" id="cb7"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure different ports for each project</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Project A: guvnor.yaml → http_port: 8080</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Project B: guvnor.yaml → http_port: 8090</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Project C: guvnor.yaml → http_port: 8100</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Access:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># http://app-a.localhost:8080</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="co"># http://app-b.localhost:8090  </span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># http://app-c.localhost:8100</span></span></code></pre></div>
                        <h2 id="production-workflows">Production
                        Workflows</h2>
                        <h3 id="initial-deployment">Initial
                        Deployment</h3>
                        <div class="sourceCode" id="cb8"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># On server</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone your-repo</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> your-repo</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> init        <span class="co"># Generate config if needed</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Production start</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start <span class="at">--domain</span> myapp.com <span class="at">--email</span> admin@myapp.com</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Check status</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> status</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs</span></code></pre></div>
                        <h3 id="updates-and-deployments">Updates and
                        Deployments</h3>
                        <div class="sourceCode" id="cb9"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Update code</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Validate new config</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> validate</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Zero-downtime restart</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Or restart specific service</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart api-service</span></code></pre></div>
                        <h3 id="rollback">Rollback</h3>
                        <div class="sourceCode" id="cb10"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> checkout previous-version</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> validate</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span></code></pre></div>
                        <h2 id="debugging-workflows">Debugging
                        Workflows</h2>
                        <h3 id="app-wont-start">App Won’t Start</h3>
                        <div class="sourceCode" id="cb11"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> validate    <span class="co"># Check config syntax</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs        <span class="co"># See error messages</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> status      <span class="co"># Check which apps failed</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Start single app for debugging</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start web-app</span></code></pre></div>
                        <h3 id="port-conflicts">Port Conflicts</h3>
                        <div class="sourceCode" id="cb12"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Find what&#39;s using the port</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">lsof</span> <span class="at">-i</span> :8080</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Or change Guvnor&#39;s port</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit guvnor.yaml: server.http_port: 8090</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span></code></pre></div>
                        <h3 id="ssltls-issues">SSL/TLS Issues</h3>
                        <div class="sourceCode" id="cb13"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs        <span class="co"># Check certificate errors</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Test in staging first</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start <span class="at">--domain</span> staging.myapp.com <span class="at">--staging</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Check certificate files</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ls</span> <span class="at">-la</span> certs/</span></code></pre></div>
                        <h3 id="performance-issues">Performance
                        Issues</h3>
                        <div class="sourceCode" id="cb14"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check process status</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> status</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Monitor logs in real-time</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs <span class="at">-f</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Restart unhealthy services</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart slow-service</span></code></pre></div>
                        <h2 id="configuration-workflows">Configuration
                        Workflows</h2>
                        <h3 id="adding-environment-variables">Adding
                        Environment Variables</h3>
                        <div class="sourceCode" id="cb15"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 1: Edit .env file</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;API_KEY=secret123&quot;</span> <span class="op">&gt;&gt;</span> .env</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Method 2: Edit guvnor.yaml</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="ex">apps:</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: api</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="ex">environment:</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>      <span class="ex">API_KEY:</span> <span class="st">&quot;secret123&quot;</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span></code></pre></div>
                        <h3 id="changing-ports">Changing Ports</h3>
                        <div class="sourceCode" id="cb16"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Edit guvnor.yaml</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">apps:</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: api</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">port:</span> 8001        <span class="co"># Change from 8000 to 8001</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> validate      <span class="co"># Check config</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart       <span class="co"># Apply changes</span></span></code></pre></div>
                        <h3 id="adding-health-checks">Adding Health
                        Checks</h3>
                        <div class="sourceCode" id="cb17"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># guvnor.yaml</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="ex">apps:</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="ex">-</span> name: api</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    <span class="ex">health_check:</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>      <span class="ex">enabled:</span> true</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>      <span class="ex">path:</span> /health    <span class="co"># Your health endpoint</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>      <span class="ex">interval:</span> 30s</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> restart</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> status        <span class="co"># Shows health status</span></span></code></pre></div>
                        <h2 id="team-workflows">Team Workflows</h2>
                        <h3 id="onboarding-new-developer">Onboarding New
                        Developer</h3>
                        <div class="sourceCode" id="cb18"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># New developer setup</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone team-repo</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> team-repo</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> init          <span class="co"># Uses existing config</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start         <span class="co"># Everything works</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co"># No Docker, complex setup, or environment issues!</span></span></code></pre></div>
                        <h3 id="sharing-configuration">Sharing
                        Configuration</h3>
                        <div class="sourceCode" id="cb19"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Commit guvnor.yaml to git</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add guvnor.yaml</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">&quot;Add Guvnor configuration&quot;</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Don&#39;t commit .env (secrets)</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> <span class="st">&quot;.env&quot;</span> <span class="op">&gt;&gt;</span> .gitignore</span></code></pre></div>
                        <h3
                        id="environment-specific-configs">Environment-Specific
                        Configs</h3>
                        <div class="sourceCode" id="cb20"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Different configs for different environments</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> guvnor.yaml guvnor.dev.yaml</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> guvnor.yaml guvnor.prod.yaml</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Use specific config</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start <span class="at">--config</span> guvnor.dev.yaml</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start <span class="at">--config</span> guvnor.prod.yaml</span></code></pre></div>
                        <h2 id="migration-workflows">Migration
                        Workflows</h2>
                        <h3 id="from-docker-compose">From Docker
                        Compose</h3>
                        <div class="sourceCode" id="cb21"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Old way</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> up <span class="at">-d</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="ex">docker-compose</span> logs <span class="at">-f</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="co"># New way</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> init          <span class="co"># Auto-detects services</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start         <span class="co"># Much faster startup</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> logs</span></code></pre></div>
                        <h3 id="from-manual-process-management">From
                        Manual Process Management</h3>
                        <div class="sourceCode" id="cb22"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Old way</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> api.py <span class="kw">&amp;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> frontend/server.js <span class="kw">&amp;</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="ex">redis-server</span> <span class="kw">&amp;</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># New way</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> init          <span class="co"># Detects all processes</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start         <span class="co"># Manages everything</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Automatic restarts, health checks, logging</span></span></code></pre></div>
                        <h3 id="to-production-pm2systemd">To Production
                        (PM2/Systemd)</h3>
                        <div class="sourceCode" id="cb23"><pre
                        class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Development</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="ex">guvnor</span> start</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Production: Install as service</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> cp guvnor /usr/local/bin/</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Setup systemd service (see systemd.md)</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> systemctl start guvnor</span></code></pre></div>
                        <h2 id="tips">Tips</h2>
                        <ul>
                        <li><strong>Always run
                        <code>guvnor validate</code></strong> before
                        starting in production</li>
                        <li><strong>Use
                        <code>guvnor logs -f</code></strong> to follow
                        logs in real-time</li>
                        <li><strong>Keep .env files out of version
                        control</strong> (add to .gitignore)</li>
                        <li><strong>Use different ports</strong> for
                        different projects</li>
                        <li><strong>Test with
                        <code>--staging</code></strong> before using
                        production certificates</li>
                        </ul>
                    </div>
                </article>
            </div>
        </main>

        <!-- Table of Contents (will be generated by JS) -->
        <aside class="w-56 hidden xl:block">
            <div class="sticky top-20 p-4">
                <h3 class="text-sm font-semibold text-gray-900 mb-2">On this page</h3>
                <div id="toc" class="text-sm space-y-1">
                    <!-- Generated by JavaScript -->
                </div>
            </div>
        </aside>
    </div>

    <style>
        /* Enhanced prose styles for API-docs look */
        .prose h1 {
            @apply text-3xl font-bold text-gray-900 border-b border-gray-200 pb-3 mb-8;
        }
        .prose h2 {
            @apply text-2xl font-semibold text-gray-900 mt-12 mb-4 scroll-mt-20;
        }
        .prose h3 {
            @apply text-lg font-semibold text-gray-900 mt-8 mb-3 scroll-mt-20;
        }
        .prose h4 {
            @apply text-base font-semibold text-gray-900 mt-6 mb-2;
        }
        
        /* Terminal-style code blocks */
        .prose pre {
            @apply bg-gray-900 rounded-lg p-4 overflow-x-auto border shadow-sm;
            position: relative;
        }
        .prose pre::before {
            content: '';
            position: absolute;
            top: 12px;
            left: 12px;
            width: 12px;
            height: 12px;
            background: radial-gradient(circle, #ff5f57 0%, #ff5f57 25%, transparent 25%), 
                        radial-gradient(circle, #ffbd2e 0%, #ffbd2e 25%, transparent 25%), 
                        radial-gradient(circle, #28ca42 0%, #28ca42 25%, transparent 25%);
            background-position: 0 0, 20px 0, 40px 0;
            background-size: 20px 12px;
            background-repeat: no-repeat;
        }
        .prose pre code {
            @apply text-green-400 bg-transparent p-0 text-sm font-mono;
            padding-left: 60px;
            display: block;
        }
        
        /* Inline code */
        .prose code:not(pre code) {
            @apply bg-gray-100 text-gray-800 px-2 py-1 rounded text-sm font-mono;
        }
        
        /* Links */
        .prose a {
            @apply text-blue-600 hover:text-blue-700 no-underline font-medium;
        }
        .prose a:hover {
            @apply underline;
        }
        
        /* Lists */
        .prose ul {
            @apply space-y-2;
        }
        .prose ol {
            @apply space-y-2;
        }
        .prose li {
            @apply leading-relaxed;
        }
        
        /* Tables */
        .prose table {
            @apply w-full border-collapse bg-white rounded-lg shadow-sm overflow-hidden;
        }
        .prose th {
            @apply bg-gray-50 border-b border-gray-200 px-4 py-3 text-left font-semibold text-gray-900;
        }
        .prose td {
            @apply border-b border-gray-200 px-4 py-3 text-gray-700;
        }
        .prose tr:last-child td {
            @apply border-b-0;
        }
        
        /* Blockquotes */
        .prose blockquote {
            @apply bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg;
        }
        .prose blockquote p {
            @apply text-blue-800 italic mb-0;
        }
        
        /* API-style sections */
        .prose .api-section {
            @apply border border-gray-200 rounded-lg p-6 my-6 bg-white shadow-sm;
        }
        .prose .api-method {
            @apply inline-block bg-green-100 text-green-800 px-2 py-1 rounded text-xs font-mono uppercase;
        }
        .prose .api-endpoint {
            @apply font-mono text-lg text-gray-900;
        }
        
        /* Command sections */
        .prose .command-section {
            @apply bg-white border border-gray-200 rounded-lg p-6 my-6 shadow-sm;
        }
        .prose .command-title {
            @apply text-lg font-semibold text-gray-900 mb-2;
        }
        .prose .command-description {
            @apply text-gray-600 mb-4;
        }
        
        /* YAML/Config sections */
        .prose .config-section {
            @apply grid md:grid-cols-2 gap-6 my-8;
        }
        .prose .config-example {
            @apply bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm;
        }
        .prose .config-header {
            @apply bg-gray-50 px-4 py-2 border-b border-gray-200;
        }
        .prose .config-content {
            @apply p-0;
        }
    </style>

    <script>
        // Generate table of contents
        document.addEventListener('DOMContentLoaded', function() {
            const toc = document.getElementById('toc');
            const headings = document.querySelectorAll('.prose h2, .prose h3');
            
            if (headings.length === 0 || !toc) return;
            
            headings.forEach((heading, index) => {
                const id = heading.id || `heading-`;
                heading.id = id;
                
                const link = document.createElement('a');
                link.href = `#`;
                link.textContent = heading.textContent;
                link.className = heading.tagName === 'H2' 
                    ? 'block text-gray-700 hover:text-blue-600 py-1' 
                    : 'block text-gray-500 hover:text-blue-600 py-1 ml-3 text-xs';
                
                toc.appendChild(link);
            });
        });
        
        // Copy code block functionality
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('pre code');
            
            codeBlocks.forEach(code => {
                const pre = code.parentElement;
                const button = document.createElement('button');
                button.textContent = 'Copy';
                button.className = 'absolute top-3 right-3 bg-gray-700 hover:bg-gray-600 text-white px-2 py-1 rounded text-xs';
                
                button.addEventListener('click', async () => {
                    try {
                        await navigator.clipboard.writeText(code.textContent);
                        button.textContent = 'Copied!';
                        setTimeout(() => button.textContent = 'Copy', 2000);
                    } catch (err) {
                        console.error('Failed to copy:', err);
                    }
                });
                
                pre.style.position = 'relative';
                pre.appendChild(button);
            });
        });
    </script>
</body>
</html>